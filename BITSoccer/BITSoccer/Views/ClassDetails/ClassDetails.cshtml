@model BITSoccer.Models.Class
@using System.Globalization
@{
    ViewBag.Title = "Thông tin lớp học";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var ClassReference = (List<BITSoccer.Models.Class>)ViewBag.ReferenceClass;
}
@section AddToHead{
    <script>
        $(document).on('ready', function () {

            $('.kv-uni-star').rating({
                theme: 'krajee-uni',
                filledStar: '&#x2605;',
                emptyStar: '&#x2606;'
            });
            $('.rating,.kv-gly-star,.kv-gly-heart,.kv-uni-star,.kv-uni-rook,.kv-fa,.kv-fa-heart,.kv-svg,.kv-svg-heart').on(
                'change', function () {
                    console.log('Rating selected: ' + $(this).val());
                });
            $('.total-rating-star').rating({
                theme: 'krajee-uni',
                displayOnly: true,
                showClear: false,
                showCaption: false,
                filledStar: '&#x2605;',
                emptyStar: '&#x2606;'
            });

        });
        function onButtonClick() {
            document.getElementById('textReplyInput').className = "form-control showtextboxreply";
        }
    </script>
    <style>
        .showtextboxreply {
            display: block;
            height: 100px;
        }

        .hidetextboxreply {
            display: none;
        }
    </style>
}
<main>

    <div class="titile-bg" style="background-image: url('../../Assets/img/header_bg_3.jpg');">
        <div class="container">
            <div class="titile-name">@Model.Name</div>
        </div>
        <div class="text-shadow"></div>
    </div>
    <div id="background_main">
        <div class="container">
            <div id="background_content" style="padding: 20px 0px">
                <!-- Thông tin chung -->
                <div class="separate-class-detail-line">
                    <div class="container">
                        <div class="row justify-content-between mt-5 mb-3">
                            <div class="col-lg-8 col-md-12">
                                <h2 class="title-orangered">@Model.Name</h2>
                                <p>
                                    <strong>Kỹ năng rê bóng:</strong> của Trung tâm dạy bóng đá Nam Việt,
                                    với đội ngủ HLV là giảng viên Trường ĐH TDTT TpHCM thường xuyên mở lớp học bóng đá.
                                </p>
                                <p>
                                    Dạy bóng đá cho người đi làm, người lớn tuổi, người chưa biết đá bóng nhưng yêu thích môn bóng đá,
                                    nhằm mục đích giúp mọi người rèn luyện sức khỏe.
                                </p>
                                <p>Nhằm nâng cao tinh thần,  thực sự là một  sân chơi lành mạnh sau những giờ làm việc căng thẳng.</p>
                                <p>
                                    <strong>
                                        LỚP RÊ BÓNG PRE-SOCCER 20D; Khai giảng 25/5/2020,
                                        Lịch học:  15H ngày thứ hai, thứ tư và thứ sáu .
                                    </strong>
                                </p>
                                @{
                                    if (User.Identity.IsAuthenticated)
                                    {
                                        <a href="@Url.Action("AddToCart", "ShoppingCart", new { id = Model.Class_ID })">
                                            <img src="~/Assets/img/dang-ky-hoc-banh.png" alt="Bóng đá">
                                        </a>
                                    }
                                    else
                                    {
                                        <a href="@Url.Action("Login", "Account")" class="alert alert-info">Vui lòng đăng nhập để đăng ký lớp học</a>
                                    }
                                }

                            </div>
                            <div class="col-lg-4 col-md-12">
                                @{
                                    if (Model.Image != null)
                                    {
                                        <img class="float-right img-fluid" src="@Url.Content(Model.Image)" alt="picture @Model.Name">
                                    }
                                    else
                                    {
                                        <img class="float-right img-fluid" src="~/Assets/img/no-photo.jpg" alt="picture @Model.Name">
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mô tả chung -->
                <div class="container mt-5 ">
                    <div class="row">
                        <div class="col-12">
                            <div class="sc_heading clone_title">
                                <h2 class="title">Mô tả chung</h2>
                                <div class="clone">Mô tả chung</div>
                            </div>
                            <div class="py-3" id="venue">
                                <div class="container">
                                    <div class="row animate-in-down" style="background-color: forestgreen;">
                                        <div class="p-4 col-md-6 align-self-center text-color">
                                            <p class="m-0"></p>
                                            <h1>
                                                <font color="black">Kỹ thuật rê bóng</font>
                                            </h1>
                                            <p class="my-4">
                                                Rê bóng là một trong các kỹ thuật đá bóng cơ bản nhất của bóng đá.
                                                Nó giúp một cầu thủ khéo léo đánh bại từ hậu vệ này đến hậu vệ kia để ghi bàn.
                                                Dù nó không còn quá quan trọng trong bóng đá hiện đại đặt nặng lối chơi đồng đội,
                                                thế nhưng những kỹ thuật này luôn là một vũ khí lợi hại của các cầu thủ
                                            </p>
                                            <p class="my-4">
                                                Để luyện tập kỹ thuật rê bóng cơ bản một cách thuần thục.
                                                Bạn cần phải thực hành thường xuyên, có thời gian và nỗ lực thì mới thành công.
                                            </p>
                                        </div>
                                        <div class="p-0 col-md-6">
                                            <div class="carousel slide" data-ride="carousel" id="carousel1">
                                                <div class="carousel-inner" role="listbox">
                                                    <div class="carousel-item">
                                                        <img class="d-block img-fluid w-100" src="~/Assets/img/HLV_HV1.jpg" alt="first slide">
                                                        <div class="carousel-caption">
                                                            <h3>Cách rê bóng tự tin hơn</h3>

                                                        </div>
                                                    </div>
                                                    <div class="carousel-item active">
                                                        <img class="d-block img-fluid w-100" src="~/Assets/img/HLV_HV3.jpg" data-holder-rendered="true">
                                                        <div class="carousel-caption">
                                                            <h3>Hướng dẫn kỹ thuật rê bóng</h3>

                                                        </div>
                                                    </div>
                                                    <div class="carousel-item">
                                                        <img class="d-block img-fluid w-100" src="~/Assets/img/HLV_HV5.jpg" data-holder-rendered="true">
                                                        <div class="carousel-caption">
                                                            <h3>Cách rê bóng như Ronaldo</h3>

                                                        </div>
                                                    </div>
                                                </div> <a class="carousel-control-prev" href="#carousel1" role="button" data-slide="prev"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="carousel-control-next" href="#carousel1" role="button" data-slide="next"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chi tiết chương trình -->
                <div class="container mt-5 ">
                    <div class="row">
                        <div class="col-12">
                            <div class="sc_heading clone_title">
                                <h2 class="title">Chương trình giảng dạy</h2>
                                <div class="clone">Chương trình giảng dạy</div>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            @Model.Description
                        </div>
                    </div>
                </div>

                <!-- Giáo viên -->
                <div class="container mt-5 ">
                    <div class="row">
                        <div class="col-12">
                            <div class="sc_heading clone_title">
                                <h2 class="title">Giới thiệu về giáo viên</h2>
                                <div class="clone">Giới thiệu về giáo viên</div>
                            </div>
                        </div>
                    </div>
                    <div class="container mt-5 mb-5">
                        <div class="row no-gutters">
                            <div class="col-md-4 col-lg-4">
                                <div class="inner">
                                    <div class="embed-responsive embed-responsive-4by3">
                                        <a href="#">
                                            <img style="width: 200px; float:left" src="@Model.Coach.Image"
                                                 class="card-img-top embed-responsive-item" alt="...">
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8 col-lg-8">
                                <div class="d-flex flex-column">
                                    <div class="d-flex flex-row justify-content-between align-items-center p-5 bg-dark text-white">
                                        <h3 class="display-5">Thầy @Model.Coach.Name</h3>
                                        <a href="@Model.Coach.Facebook"><i class="fa fa-facebook"></i></a>
                                        <a href=""><i class="fa fa-google"></i></a>
                                        <a href="@Model.Coach.Insta"><i class="fab fa-instagram-square"></i></a>
                                        <a href="@Model.Coach.Twitter"><i class="fab fa-twitter-square"></i></a>
                                        <a href=""><i class="fa fa-linkedin"></i></a>
                                    </div>
                                    <div class="news-feed-text">
                                        <h5>Giới thiệu về thầy @Model.Coach.Name </h5>
                                        <span>
                                            @Model.Coach.Description<br>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Đánh giá -->
                <div class="container mt-5 ">
                    <div class="row">
                        <div class="col-12">
                            <div class="sc_heading clone_title">
                                <h2 class="title">Đánh giá của học viên</h2>
                                <div class="clone">Đánh giá của học viên</div>
                            </div>
                        </div>
                    </div>
                    <div class="rating-review container-fluid">
                        <div class="row">
                            <div class="col-lg-4 col-sm-12">
                                <div class="all-start-number">
                                    @ViewBag.TotalStar
                                </div>
                                <div class="star d-flex justify-content-between px-5">
                                    <input type="text" class="total-rating-star" value="@ViewBag.TotalStar" data-size="sm"/>
                                </div>
                                <div class="rating-count">@ViewBag.CountRating <span class="text-muted">Rating</span></div>
                            </div>
                            <div class="col-lg-8 col-sm-12">
                                <div class="container-fluid">
                                    <div class="row d-flex">
                                        <div class="col-2 padding-0">
                                            <p>Xuất xắc</p>
                                        </div>
                                        <div class="col-10 padding-0">
                                            <div class="progress">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: @ViewBag.Best%" aria-valuemin="0" aria-valuemax="100">@ViewBag.Best%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row d-flex">
                                        <div class="col-2 padding-0">
                                            <p>Tốt</p>
                                        </div>
                                        <div class="col-10 padding-0">
                                            <div class="progress">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: @ViewBag.Good%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">@ViewBag.Good%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row d-flex">
                                        <div class="col-2 padding-0">
                                            <p>Trung bình</p>
                                        </div>
                                        <div class="col-10 padding-0">
                                            <div class="progress">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: @ViewBag.Normal%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">@ViewBag.Normal%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row d-flex">
                                        <div class="col-2 padding-0">
                                            <p>Dở</p>
                                        </div>
                                        <div class="col-10 padding-0">
                                            <div class="progress">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: @ViewBag.Bad%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">@ViewBag.Bad%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row d-flex">
                                        <div class="col-2 padding-0">
                                            <p>Tệ</p>
                                        </div>
                                        <div class="col-10 padding-0">
                                            <div class="progress">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: @ViewBag.VeryBad%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">@ViewBag.VeryBad%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bình luận -->
                @{
                    if (!User.Identity.IsAuthenticated)
                    {
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12 mt-4">
                                    <div class="alert alert-info">
                                        <div>
                                            Vui lòng <span><a href="@Url.Action("Login","Account")">Đăng nhập</a></span> hoặc <span><a href="@Url.Action("Register","Account")">Đăng ký</a></span> để bình luận và đánh giá.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                <div class="container">
                    <div class="card card-comment">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-1">
                                    <img src="~/Assets/img/83047536_1559061280917786_3640823053601996800_o.jpg" class="img img-rounded img-fluid" />
                                </div>
                                <div class="col-md-11">
                                    <div>
                                        <h5 class="float-left" href="#"><strong>Lê Anh Quốc</strong></h5>
                                    </div>
                                    <div class="clearfix"></div>
                                    <p class="text-secondary">08/05/2020</p>
                                    <p>Lớp học đã mang rất nhiều tiếng cười và niềm vui. cám ơn lớp rất nhiều.</p>

                                    <a class="float-right btn btn-outline-primary ml-2" onclick="onButtonClick()"> <i class="fa fa-reply"></i> Reply</a>
                                    <textarea class="form-control hidetextboxreply" placeholder="Bạn cảm thấy khóa học thế nào?" rows="4" id="textReplyInput"></textarea>
                                </div>
                                <div class="row comment-children">
                                    <div class="col-md-1">
                                        <img src="~/Assets/img/83047536_1559061280917786_3640823053601996800_o.jpg" class="img img-rounded img-fluid" />
                                    </div>
                                    <div class="col-md-11">
                                        <div>
                                            <h5 class="float-left" href="#"><strong>Lê Anh Quốc</strong></h5>
                                        </div>
                                        <div class="clearfix"></div>
                                        <p class="text-secondary">08/05/2020</p>
                                        <p>Lớp học đã mang rất nhiều tiếng cười và niềm vui. cám ơn lớp rất nhiều. </p>
                                        <a class="float-right btn btn-outline-primary ml-2"> <i class="fa fa-reply"></i> Reply</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Khung bình luận -->
                @{
                    if (User.Identity.IsAuthenticated)
                    {
                        using (Html.BeginForm("Rating", "ClassDetails", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken();
                            <div class="container">
                                <div class="card card-comment comment-box">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h4>Đánh giá của bạn</h4>
                                            <input type="text" class="kv-uni-star rating-loading" value="" data-size="lg" title="" name="NumberStar">
                                            <input type="hidden" name="Class_ID" value="@Model.Class_ID" />
                                        </div>
                                        <div class="col-md-6 mt-3">
                                            <div class="float-left">
                                                @{
                                                    if (ViewBag.Error != "RATED")
                                                    {
                                                        <button class="btn btn-success send btn-sm" type="submit">
                                                            Đánh giá <i class="fa fa-long-arrow-right ml-1"></i>
                                                        </button>
                                                    }
                                                    else
                                                    {
                                                        <p class="alert alert-info">Bạn đã đánh giá rồi</p>
                                                    }
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }


                        <div class="container">
                            <div class="card card-comment comment-box">
                                <div class="row">
                                    <div class="col-12"> <img src="https://i.imgur.com/d2dKtI7.png" width="60" class="rounded-circle mt-2"> </div>
                                    <div class="col-12">
                                        <div class="comment-box ml-2">
                                            <h4>Bình luận của bạn</h4>
                                            <div class="comment-area">
                                                <textarea class="form-control" placeholder="Bạn cảm thấy khóa học thế nào?" rows="4" style="height: 100px;"></textarea>
                                            </div>
                                            <div class="comment-btns mt-2">
                                                <div class="row">
                                                    <div class="col-6">
                                                        <div class="float-left"> <button class="btn btn-success btn-sm">Hủy</button> </div>
                                                    </div>
                                                    <div class="col-6">
                                                        <div class="float-right">
                                                            <button class="btn btn-success send btn-sm">
                                                                Phản hồi <i class="fa fa-long-arrow-right ml-1"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                <!-- Lớp liên quan  -->
                <div class="container mt-5 ">
                    <div class="row">
                        <div class="col-12">
                            <div class="sc_heading clone_title">
                                <h2 class="title">Lớp liên quan</h2>
                                <div class="clone">Lớp liên quan</div>
                            </div>

                        </div>
                    </div>
                    <div class="hot-class-slider">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-12 text-right">
                                    <div class="slider-btn">
                                        <span class="prev position-top-two">
                                            <i class="fas fa-chevron-left fa-2x"></i>
                                        </span>
                                        <span class="next position-top-two">
                                            <i class="fas fa-chevron-right fa-2x"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="hot-class-wrapper">
                            @{
                                foreach (var item in ClassReference)
                                {
                                    <div class="hot-class">
                                        <div class="card" style="width: auto;">
                                            <div class="inner">
                                                <div class="embed-responsive embed-responsive-4by3">
                                                    <a href="@Url.Action("ClassDetails","ClassDetails", new { id = item.Class_ID})">
                                                        @{
                                                            if (item.Image != null)
                                                            {
                                                                <img src="@Url.Content(item.Image)" class="card-img-top embed-responsive-item" alt="...">
                                                            }
                                                            else
                                                            {
                                                                <img src="https://via.placeholder.com/600" class="card-img-top embed-responsive-item" alt="...">
                                                            }
                                                        }
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div class="d-flex justify-content-between">
                                                    <a href="@Url.Action("ClassDetails","ClassDetails", new { id = item.Class_ID})">
                                                        <h5 class="card-title class-title">@item.Name</h5>
                                                    </a>
                                                    <div class="class-number d-flex">
                                                        <i class="fas fa-user"></i>
                                                        <h6>@item.Quanity</h6>
                                                    </div>
                                                </div>
                                                <p class="card-text">
                                                    Huấn luyện viên: <span>@item.Coach.Name</span>
                                                </p>
                                                @{
                                                    string startday = item.StartDay.HasValue ? item.StartDay.Value.ToString("dd/MM/yyyy") : string.Empty;
                                                    string endday = item.EndDay.HasValue ? item.EndDay.Value.ToString("dd/MM/yyyy") : string.Empty;
                                                    <p class="card-text">
                                                        Thời gian: <span>@startday</span> - <span>@endday</span>
                                                    </p>
                                                }
                                                <div class="star-prices d-flex justify-content-between">
                                                    <div class="star d-flex">
                                                        <i class="fas fa-star"></i><span>(4,5)</span>
                                                    </div>
                                                    <div class="prices position-relative">
                                                        @{
                                                            if (item.PromoPrices != item.Prices)
                                                            {
                                                                <div class="prices-now">@Convert.ToDouble(@item.PromoPrices).ToString("C0", new CultureInfo("vi-VN"))</div>
                                                                <del class="prices-before">@Convert.ToDouble(@item.Prices).ToString("C0", new CultureInfo("vi-VN"))</del>
                                                            }
                                                            else
                                                            {
                                                                <div class="prices-now">@Convert.ToDouble(@item.Prices).ToString("C0", new CultureInfo("vi-VN"))</div>
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>